# SQL Injection
SQL 인젝션은 외부 입력(사용자 입력, URL 파라미터 등)이 적절히 검증 또는 분리되지 않아 악의적 데이터가 애플리케이션의 SQL 쿼리에 삽입되고, 의도치 않은 데이터 접근·수정·삭제 또는 심지어 시스템 권한 획득으로 이어질 수 있는 취약점

# SQL Injection 의 영향
- 데이터 유출: 개인정보·결제정보·비밀데이터 노출
- 무단 수정/삭제: 데이터 정합성 파괴, 서비스 중단
- 권한 상승/원격 명령 실행: DB 서버 기능을 통해 추가 침해 가능
- 법적·재무적 피해: 규정 위반, 벌금, 신뢰도 하락

# 취약 코드 예시
```java
String username = request.getParameter("username");
String sql = "SELECT id, name FROM users WHERE username = '" + username + "'";
```

username이 외부 입력이며 쿼리 문법과 섞여서 실행되어 SQL 인젝션에 취약

# 방어 방법
- 파라미터화(Prepared Statements / Parameterized Queries) — 가장 효과적이고 권장되는 기본 방어.
```java
String sql = "SELECT id, name FROM users WHERE username = ?";
User user = jdbcTemplate.queryForObject(sql, new Object[]{username}, new UserRowMapper());
```
- ORM 사용 시 파라미터 바인딩 — ORM의 쿼리 빌더/바인딩 기능을 활용.
```java
TypedQuery<User> q = em.createQuery("SELECT u FROM User u WHERE u.username = :username", User.class);
q.setParameter("username", username);
```
- 입력 검증(유효성 검증) — 화이트리스트(허용 값) 기반 검증; 필요시 길이/형식 검사.
- 최소 권한 원칙(Least Privilege) — DB 사용자 계정에 꼭 필요한 권한만 부여.
- 출력 이스케이프(특히 콘솔/형태가 노출되는 곳) — SQL이 아닌 HTML/쉘 등 다른 컨텍스트엔 별도 처리.
- 보안 로깅·모니터링·WAF — 비정상 쿼리 패턴 탐지 및 차단.
- 정기적 보안 테스트 — SAST/DAST 및 공식적인 침투 테스트.