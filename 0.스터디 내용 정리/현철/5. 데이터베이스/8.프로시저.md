# 1. 프로시저란
프로시저(Stored Procedure)는 데이터베이스에 저장되어 있는 SQL 문들의 집합으로, 마치 함수처럼 호출해서 실행할 수 있는 프로그램 단위.
일반 쿼리는 매번 SQL을 작성하고 실행해야 하지만, 프로시저는 자주 사용하는 로직을 저장해 두고 필요할 때마다 호출할 수 있음.

즉, DB에 저장된 함수

# 2. 프로시저가 필요한 이유
- 반복적인 쿼리 재사용 : 동일한 로직을 여러 번 작성할 필요 없음.
- 복잡한 비즈니스 로직 캡슐화 : 여러 SQL을 하나의 단위로 묶어서 실행.
- 성능 최적화 : 컴파일된 형태로 DB에 저장되므로 실행 속도가 빠름.
- 보안 : 프로시저 내부에서만 데이터 접근을 허용하여 직접 테이블 접근을 최소화.
- 유지보수 편의성 : 로직을 DB에 모아두면 코드 수정이 용이.

# 3. 장점과 단점
## 장점
- 성능 향상 : SQL을 매번 해석하지 않고, 미리 컴파일된 실행 계획을 사용.
- 재사용성 : 여러 애플리케이션에서 동일한 프로시저 호출 가능.
- 보안 강화 : 사용자에게 테이블 권한 대신 프로시저 실행 권한만 부여 가능.
- 업무 로직 일원화 : 핵심 로직을 DB 레벨에서 관리.
- 
## 단점
- 이식성 문제 : DBMS마다 프로시저 문법이 다름(MySQL, Oracle, MSSQL 등).
- 버전 관리 어려움 : 일반 코드처럼 Git으로 관리하기 어려움.
- 비즈니스 로직 분산 : 애플리케이션 로직과 DB 로직이 섞여 복잡해질 수 있음.
- 테스트 어려움 : 단위 테스트 환경 구축이 까다로움.

# 예시
```sql
-- 프로시저 생성
DELIMITER //
CREATE PROCEDURE 프로시저이름 (IN param1 INT, OUT param2 VARCHAR(50))
BEGIN
    -- SQL 로직 작성
    SELECT name INTO param2
    FROM users
    WHERE id = param1;
END //
DELIMITER ;

-- 프로시저 호출
CALL 프로시저이름(1, @output);

-- 결과 확인
SELECT @output;
```

- IN : 입력 파라미터
- OUT : 출력 파라미터
- INOUT : 입력과 출력을 동시에 처리