# 조인
데이터베이스에서 조인(Join) 은 두 개 이상의 테이블을 연결해 관련 있는 행(row)을 결합하는 개념.

# 예시
### users 테이블
| id | name  |
| -: | ----- |
|  1 | Alice |
|  2 | Bob   |
|  3 | Carol |

### orders 테이블

| id | user_id | product  |
| -: | ------: | -------- |
|  1 |       1 | Keyboard |
|  2 |       1 | Mouse    |
|  3 |       2 | Monitor  |
|  4 |       4 | Chair    |

## inner join
```sql
SELECT u.id as user_id, u.name, o.id as order_id, o.product
FROM users u
JOIN orders o
  ON u.id = o.user_id;
```

### 결과
| user_id | name  | order_id | product  |
| ------: | ----- | -------: | -------- |
|       1 | Alice |        1 | Keyboard |
|       1 | Alice |        2 | Mouse    |
|       2 | Bob   |        3 | Monitor  |
users와 orders 모두에 대응 레코드가 있는 행들만 반환. users의 Carol(3)은 주문이 없어 제외, orders의 user_id=4는 users에 없어 제외.

## outer join
내부 조인과 달리, 한쪽(또는 양쪽)에 일치하는 레코드가 없어도 그쪽의 행을 결과에 포함시킴. 외부 조인은 Left Outer, Right Outer, Full Outer 로 나뉨.

요약:
LEFT OUTER JOIN (또는 LEFT JOIN): 왼쪽 테이블의 모든 행을 포함, 매칭되는 오른쪽 값이 없으면 NULL로 채움.
RIGHT OUTER JOIN (또는 RIGHT JOIN): 오른쪽 테이블의 모든 행을 포함.
FULL OUTER JOIN (또는 FULL JOIN): 양쪽 테이블의 모든 행을 포함; 한쪽에만 있는 행은 다른 쪽이 NULL.

### left outer join
```sql
SELECT u.id AS user_id, u.name, o.id AS order_id, o.product
FROM users u
LEFT JOIN orders o
  ON u.id = o.user_id;
```
#### 결과
| user_id | name  | order_id | product  |
| ------: | ----- | -------: | -------- |
|       1 | Alice |        1 | Keyboard |
|       1 | Alice |        2 | Mouse    |
|       2 | Bob   |        3 | Monitor  |
|       3 | Carol |     NULL | NULL     |
users의 모든 행(1,2,3)을 포함. Carol(3)은 주문이 없으므로 order 컬럼들이 NULL. orders의 user_id=4 레코드는 포함되지 않음 (오른쪽에만 있는 값은 포함X).

### right outer join
```sql
SELECT u.id AS user_id, u.name, o.id AS order_id, o.product
FROM users u
RIGHT JOIN orders o
  ON u.id = o.user_id;
```
#### 결과
| user_id | name  | order_id | product  |
| ------: | ----- | -------: | -------- |
|       1 | Alice |        1 | Keyboard |
|       1 | Alice |        2 | Mouse    |
|       2 | Bob   |        3 | Monitor  |
|    NULL | NULL  |        4 | Chair    |
orders의 모든 행을 포함. orders의 id=4는 users에 매칭되는 값이 없으므로 user 컬럼들이 NULL로 채워짐.

### full outer join
```sql
SELECT u.id AS user_id, u.name, o.id AS order_id, o.product
FROM users u
FULL OUTER JOIN orders o
  ON u.id = o.user_id;
```

#### 결과
| user_id | name  | order_id | product  |
| ------: | ----- | -------: | -------- |
|       1 | Alice |        1 | Keyboard |
|       1 | Alice |        2 | Mouse    |
|       2 | Bob   |        3 | Monitor  |
|       3 | Carol |     NULL | NULL     |
|    NULL | NULL  |        4 | Chair    |
