# 로드 밸런싱이란
로드 밸런싱(load balancing) 은 여러 서버에 네트워크 트래픽을 분산시켜 하나의 서버에 부하가 집중되지 않도록 하는 기술이다.

예를 들어, 사용자가 동시에 10,000명 접속하는 웹 서비스가 있을 때
요청을 한 대의 서버가 전부 처리한다면 CPU와 메모리가 금방 한계에 도달하지만 서버를 여러 대 두고 로드 밸런서를 앞단에 배치하면,
요청을 균등하게 나눠 처리할 수 있다.

```text
사용자
   ↓
로드 밸런서
   ↙       ↘
서버1     서버2
```
# 로드 밸런서의 역할

| 기능                             | 설명                                     |
| ------------------------------ | -------------------------------------- |
| **트래픽 분산**                     | 클라이언트 요청을 여러 서버로 나눠 전달                 |
| **헬스 체크(Health Check)**        | 서버가 정상 응답 중인지 주기적으로 확인                 |
| **Failover 처리**                | 장애가 발생한 서버로의 요청을 자동으로 차단               |
| **세션 유지(Session Persistence)** | 같은 사용자는 같은 서버로 라우팅 가능 (Sticky Session) |
| **SSL 종료(SSL Termination)**    | HTTPS 암호화를 로드 밸런서에서 처리해 서버 부담 감소       |

# 로드 밸런싱 동작 방식

## L4 로드 밸런싱 (Transport Layer)

 - 전송 계층(Transport Layer, TCP/UDP)에서 작동
 - IP 주소, 포트 번호를 기반으로 트래픽 분산
 - 빠르고 효율적이지만, 요청의 내용(HTTP Path 등)은 모름

```text
클라이언트 요청
   ↓
로드 밸런서(L4)
   ↓
서버 IP/Port 기반 분배
```

## L7 로드 밸런싱 (Application Layer)

 - 애플리케이션 계층(HTTP/HTTPS)에서 작동
 - 요청의 URL, 쿠키, 헤더, 메서드 등 세부 정보를 기반으로 분배
 - 세밀한 라우팅 정책이 가능

## 로드 밸런싱 알고리즘
| 알고리즘                     | 설명                                   |
| ------------------------ | ------------------------------------ |
| **Round Robin**          | 순서대로 서버에 요청을 분배 (가장 기본적)             |
| **Weighted Round Robin** | 서버별 가중치 부여 (성능이 좋은 서버에 더 많은 요청)      |
| **Least Connection**     | 현재 연결 수가 가장 적은 서버로 분배                |
| **IP Hash**              | 클라이언트 IP를 해시하여 항상 같은 서버로 연결 (세션 유지용) |

